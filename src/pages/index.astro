---
import Layout from '../layouts/Layout.astro'
import { getAllThoughtsSummary } from '../lib/thoughts'

const recentThoughts = (await getAllThoughtsSummary()).slice(0, 3)
---

<Layout title="Tomas Klingen - Portfolio" description="Portfolio website of Tomas Klingen">
	<main class="max-w-4xl mx-auto px-4 py-8">
		<header class="mb-12">
			<h1 class="text-4xl font-bold mb-4">Tomas Klingen</h1>
			<p class="text-xl text-gray-600">Software engineer, developer, and thinker</p>
		</header>

		<section class="mb-12">
			<h2 class="text-2xl font-bold mb-6">Recent Thoughts</h2>
			<div class="space-y-4">
				{recentThoughts.map((thought) => (
					<article class="border-l-4 border-blue-500 pl-4">
						<h3 class="text-lg font-semibold mb-1">
							<a 
								href={`/thoughts/${thought.year}/${thought.slug}/`}
								class="text-gray-900 hover:text-blue-600 transition-colors"
							>
								{thought.title}
							</a>
						</h3>
						<time 
							datetime={thought.dateCreated.toISOString()}
							class="text-sm text-gray-500"
						>
							{thought.dateCreated.toLocaleDateString('en-US', {
								year: 'numeric',
								month: 'long',
								day: 'numeric',
							})}
						</time>
						{thought.tags && (
							<div class="flex flex-wrap gap-1 mt-2">
								{thought.tags.slice(0, 3).map((tag) => (
									<span class="bg-gray-100 text-gray-600 px-2 py-1 rounded text-xs">
										#{tag}
									</span>
								))}
							</div>
						)}
					</article>
				))}
			</div>
			<p class="mt-6">
				<a href="/thoughts/" class="text-blue-600 hover:text-blue-800 transition-colors">
					View all thoughts â†’
				</a>
			</p>
		</section>
	</main>
</Layout>