---
import Layout from '~/layouts/Layout.astro'
import { getAllThoughtsSummary } from '~/lib/thoughts'

const thoughts = await getAllThoughtsSummary()
---

<Layout>
	<main class="max-w-4xl mx-auto px-4 py-8">
		<h1 class="text-4xl font-bold mb-4">Thoughts</h1>
		<p class="text-gray-600 mb-8">A collection of thoughts, learnings, and insights.</p>
		
		<div class="space-y-8">
			{thoughts.map((thought) => (
				<article class="border-b border-gray-200 pb-6">
					<h2 class="text-2xl font-semibold mb-2">
						<a 
							href={`/thoughts/${thought.year}/${thought.slug}/`}
							class="text-gray-900 hover:text-blue-600 transition-colors"
						>
							{thought.title}
						</a>
					</h2>
					<time 
						datetime={thought.dateCreated.toISOString()}
						class="text-sm text-gray-500 block mb-2"
					>
						{thought.dateCreated.toLocaleDateString('en-US', {
							year: 'numeric',
							month: 'long',
							day: 'numeric',
						})}
					</time>
					{thought.tags && (
						<div class="flex flex-wrap gap-2">
							{thought.tags.map((tag) => (
								<span class="bg-gray-100 text-gray-700 px-2 py-1 rounded text-sm">
									#{tag}
								</span>
							))}
						</div>
					)}
				</article>
			))}
		</div>
	</main>
</Layout>