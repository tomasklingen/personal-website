---
import { Image } from 'astro:assets'
import avatar from '../assets/avatar.avif'
import Footer from '../components/Footer.astro'
import Link from '../components/Link.astro'
import SocialLink from '../components/SocialLink.astro'
import ThoughtListItem from '../components/ThoughtListItem.astro'
import Layout from '../layouts/Layout.astro'
import { socialLinks } from '../lib/social'
import { getAllThoughtsSummary } from '../lib/thoughts'

const recentThoughts = (await getAllThoughtsSummary()).slice(0, 3)
---

<Layout>
	<div class="flex-1 relative z-10">
		<div class="flex flex-col relative">
			<div class="relative w-full pt-12 overflow-hidden dark:text-white">
				{/* Main content */}
				<div
					class="container mx-auto px-6 lg:px-40 flex flex-col items-center justify-between relative"
				>
					{/* Left column - Introduction */}
					<div class="mb-10">
						<div class="flex items-center mb-10 gap-6">
							<Image
								src={avatar}
								alt="Tomas Klingen"
								class="w-28 h-28 rounded-full object-cover dark:border-2 dark:border-neutral-700 shadow-lg"
								style={{ viewTransitionName: 'avatar' }}
								width={112}
								height={112}
							/>
							<div>
								<h1 class="text-4xl sm:text-5xl font-bold">Hi üëã I'm Tomas</h1>
							</div>
						</div>
						<h2 class="text-xl text-gray-500 dark:text-gray-200 mb-6">
							A Front-end Web Developer from Nieuwegein, Netherlands.
						</h2>

						<p class="text-lg text-gray-500 dark:text-gray-300 mb-8">
							My passion lies in crafting engaging web experiences with modern
							technologies. A strong focus on creating highly maintainable and
							quality code guides every project I undertake. When I'm not at the
							keyboard, you can find me cycling,{' '}
							<Link href="/run/" variant="accent"> running </Link>
							, or doing Crossfit.
						</p>
						<div class="flex space-x-4 justify-center">
							{
								<SocialLink
									social={socialLinks.bluesky}
									class="p-3 bg-neutral-600 dark:bg-neutral-800/60 hover:bg-neutral-700 transition-colors duration-200 rounded-md group"
									iconClass="w-6 h-6 text-white group-hover:text-white transition-all duration-200"
								/>
								<SocialLink
									social={socialLinks.linkedin}
									class="p-3 bg-neutral-600 dark:bg-neutral-800/60 hover:bg-neutral-700 transition-colors duration-200 rounded-md group"
									iconClass="w-6 h-6 text-white group-hover:text-white transition-all duration-200"
								/>
								<SocialLink
									social={socialLinks.github}
									class="p-3 bg-neutral-600 dark:bg-neutral-800/60 hover:bg-neutral-700 transition-colors duration-200 rounded-md group"
									iconClass="w-6 h-6 text-white group-hover:text-white transition-all duration-200"
								/>
							}
						</div>
					</div>

					{/* Recent Thoughts Section */}
					{
						recentThoughts.length > 0 && (
							<div class="mb-8 w-full">
								<div class="md:bg-amber-400/70 md:dark:bg-neutral-900/50 md:backdrop-blur-xs md:p-8 md:-mx-8 rounded-lg border-neutral-700 md:shadow-xl">
									<div class="flex items-center justify-between my-1 mb-4">
										<h2 class="text-xl font-semibold dark:text-gray-200">
											Recent Thoughts üí°
										</h2>
										<Link href="/thoughts/" variant="default" class="text-sm">
											View all ‚Üí
										</Link>
									</div>
									<div class="space-y-4">
										{recentThoughts.map((thought) => (
											<ThoughtListItem
												thought={thought}
												class="bg-neutral-100 dark:bg-neutral-800/80 p-4 rounded-md transition-colors"
												variant="compact"
												dateFormat="short"
											/>
										))}
									</div>
								</div>
							</div>
						)
					}

					{/* Skills & Projects Block */}
					<div class="space-y-6">
						{/* Skills Card */}
						<div
							class="md:bg-neutral-300 md:dark:bg-neutral-900/50 md:backdrop-blur-xs md:p-8 md:-mx-8 rounded-lg border-neutral-700 md:shadow-xl"
						>
							<h2 class="text-xl font-semibold my-1 mb-4">How I Work</h2>
							<div class="grid sm:grid-cols-2 gap-3 md:gap-4">
								<div
									class="bg-neutral-100/90 dark:bg-neutral-800/80 p-4 rounded-md dark:border-l-4 border-blue-500/60 hover:border-blue-500 transition-colors duration-200 group"
								>
									<h3
										class="font-medium dark:text-gray-200 mb-2 flex items-center"
									>
										<strong class="mr-2">üíª</strong>
										My Favorite Tech
									</h3>
									<p class="dark:text-gray-400 text-sm">
										I love working with TypeScript, React, Angular, Node,
										Svelte, RxJS.
									</p>
								</div>
								<div
									class="bg-neutral-100/90 dark:bg-neutral-800/80 p-4 rounded-md dark:border-l-4 border-purple-500/60 hover:border-purple-500 transition-colors duration-200 group"
								>
									<h3
										class="font-medium dark:text-gray-200 mb-2 flex items-center"
									>
										<strong class="mr-2">üéØ</strong>
										How I Like to Code
									</h3>
									<p class="dark:text-gray-400 text-sm">
										I focus on writing code that's maintainable, testable,
										performs well, and is easy to understand.
									</p>
								</div>
								<div
									class="bg-neutral-100/90 dark:bg-neutral-800/80 p-4 rounded-md dark:border-l-4 border-green-500/60 hover:border-green-500 transition-colors duration-200 group"
								>
									<h3
										class="font-medium dark:text-gray-200 mb-2 flex items-center"
									>
										<strong class="mr-2">üõ†Ô∏è</strong>
										Tools of the Trade
									</h3>
									<p class="dark:text-gray-400 text-sm">
										My daily drivers include Vite, Webpack, Jest, Vitest, and
										CI/CD tools like Gitlab & Github Actions.
									</p>
								</div>
								<div
									class="bg-neutral-100/90 dark:bg-neutral-800/80 p-4 rounded-md dark:border-l-4 border-rose-500/60 hover:border-rose-500 transition-colors duration-200 group"
								>
									<h3
										class="font-medium dark:text-gray-200 mb-2 flex items-center"
									>
										<strong class="mr-2">üë®‚Äçüíª</strong>
										My Approach
									</h3>
									<p class="dark:text-gray-400 text-sm">
										I believe in paying close attention to detail and enjoy
										tackling tricky problems.
									</p>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<Footer />
	</div>
</Layout>
